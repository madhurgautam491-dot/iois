<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí¨ Chat - ZOZO AI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e);
            color: white;
            min-height: 100vh;
        }
        
        /* HEADER */
        .chat-header {
            background: rgba(0, 0, 0, 0.95);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid #00ffcc;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .logo-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, #00ffcc, #0088ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        /* TIMER */
        .timer {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            font-weight: bold;
            color: #00ffcc;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .time-left {
            font-size: 1.3rem;
        }
        
        /* CHAT CONTAINER */
        .chat-container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 1rem;
            height: calc(100vh - 200px);
            display: flex;
            flex-direction: column;
        }
        
        /* CHAT MESSAGES */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .message {
            margin-bottom: 1.2rem;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-message {
            margin-left: auto;
            background: linear-gradient(135deg, #0088ff, #00ccff);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 18px 18px 5px 18px;
        }
        
        .ai-message {
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem 1.5rem;
            border-radius: 18px 18px 18px 5px;
            border-left: 4px solid #00ffcc;
        }
        
        .message-header {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 0.5rem;
        }
        
        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(45deg, #00ffcc, #0088ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        /* TYPING INDICATOR */
        .typing {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            width: fit-content;
            border-left: 4px solid #00ffcc;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: #00ffcc;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        /* INPUT AREA */
        .input-area {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        textarea {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            color: white;
            font-size: 1rem;
            font-family: inherit;
            resize: none;
            min-height: 60px;
            transition: border 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #00ffcc;
        }
        
        .send-btn {
            background: linear-gradient(135deg, #00ffcc, #0088ff);
            color: black;
            border: none;
            padding: 0 2rem;
            border-radius: 12px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .send-btn:hover {
            transform: translateY(-2px);
        }
        
        /* UPGRADE BANNER */
        .upgrade-banner {
            background: linear-gradient(90deg, #ff0080, #ff8c00);
            padding: 1rem;
            text-align: center;
            margin: 1rem auto;
            border-radius: 10px;
            animation: pulse 2s infinite;
            max-width: 900px;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .upgrade-btn {
            background: white;
            color: black;
            padding: 0.7rem 2rem;
            border-radius: 8px;
            font-weight: bold;
            text-decoration: none;
            display: inline-block;
            margin-left: 1rem;
        }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #00ffcc;
            border-radius: 10px;
        }
        
        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            padding: 3rem;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 3px solid #00ffcc;
        }
        
        .modal h2 {
            color: #00ffcc;
            margin-bottom: 1.5rem;
        }
        
        .upi-box {
            background: rgba(0, 255, 204, 0.1);
            padding: 1.5rem;
            border-radius: 15px;
            margin: 1.5rem 0;
            border: 2px solid #00ffcc;
        }
        
        .upi-id {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00ffcc;
            margin: 1rem 0;
        }
        
        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        
        .action-btn {
            padding: 1rem 2rem;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }
        
        .primary-btn {
            background: linear-gradient(90deg, #00ffcc, #0088ff);
            color: black;
        }
        
        .secondary-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid #00ffcc;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- HEADER -->
    <header class="chat-header">
        <div class="logo">
            <div class="logo-img">Z</div>
            <div>
                <h3>ZOZO AI Chat</h3>
                <p style="font-size: 0.8rem; color: #94a3b8;">Free Trial: 15 Minutes</p>
            </div>
        </div>
        
        <div class="timer">
            <i class="fas fa-clock"></i>
            <div>Time Left: <span class="time-left" id="timeLeft">15:00</span></div>
        </div>
        
        <a href="payment.html" class="upgrade-btn">
            <i class="fas fa-crown"></i> Upgrade Now
        </a>
    </header>

    <!-- UPGRADE BANNER -->
    <div class="upgrade-banner">
        <span>‚è∞ Free trial ends in <span id="bannerTime">15:00</span> | </span>
        <a href="payment.html" class="upgrade-btn">
            Upgrade to Pro for ‚Çπ49/month
        </a>
    </div>

    <!-- CHAT CONTAINER -->
    <div class="chat-container">
        <!-- CHAT MESSAGES -->
        <div class="chat-messages" id="chatMessages">
            <div class="message ai-message">
                <div class="message-header">
                    <div class="avatar">Z</div>
                    <strong>ü§ñ ZOZO AI</strong>
                </div>
                <p>Welcome! You have <span style="color: #00ffcc; font-weight: bold;">15 minutes</span> of free chat.</p>
                <p>Ask me anything - I can help with:</p>
                <ul style="margin-top: 0.8rem; padding-left: 1.5rem;">
                    <li>üíª Code generation (Python, JavaScript, etc.)</li>
                    <li>üîç Web research and analysis</li>
                    <li>üìù Content creation and writing</li>
                    <li>üíº Business strategies and planning</li>
                    <li>üéØ Problem solving in any field</li>
                </ul>
                <p style="margin-top: 1rem;">What would you like to work on today?</p>
            </div>
        </div>

        <!-- INPUT AREA -->
        <div class="input-area">
            <textarea 
                id="userInput" 
                placeholder="Type your message here... (Press Ctrl+Enter for new line)" 
                rows="3"
                onkeydown="handleKeyDown(event)"
            ></textarea>
            <button class="send-btn" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i> Send
            </button>
        </div>
    </div>

    <!-- TIME UP MODAL -->
    <div class="modal" id="timeUpModal">
        <div class="modal-content">
            <div class="logo-img" style="margin: 0 auto 1.5rem; width: 60px; height: 60px; font-size: 2rem;">Z</div>
            <h2>‚è∞ Free Trial Ended!</h2>
            <p>Your 15-minute free trial has ended.</p>
            <p>Upgrade to Pro for unlimited access!</p>
            
            <div class="upi-box">
                <p>Pay via UPI to upgrade:</p>
                <div class="upi-id">7877373299@fam</div>
                <p style="font-size: 0.9rem; color: #94a3b8;">‚Çπ49 for 1 month</p>
            </div>
            
            <div class="action-buttons">
                <button class="action-btn primary-btn" onclick="goToPayment()">
                    <i class="fas fa-credit-card"></i> Upgrade Now
                </button>
                <button class="action-btn secondary-btn" onclick="closeModal()">
                    Maybe Later
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== ZOZO AI ENGINE ==========
        class ZozoAI {
            constructor() {
                this.freeTime = 15 * 60; // 15 minutes in seconds
                this.isPro = false;
                this.conversation = [];
                this.isTyping = false;
                this.apiKey = "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"; // Your Hugging Face key
            }
            
            // START TIMER
            startTimer() {
                const timer = setInterval(() => {
                    if (this.freeTime > 0) {
                        this.freeTime--;
                        this.updateTimerDisplay();
                    } else {
                        clearInterval(timer);
                        this.showTimeUpModal();
                    }
                }, 1000);
            }
            
            // UPDATE TIMER DISPLAY
            updateTimerDisplay() {
                const minutes = Math.floor(this.freeTime / 60);
                const seconds = this.freeTime % 60;
                const timeStr = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                document.getElementById('timeLeft').textContent = timeStr;
                document.getElementById('bannerTime').textContent = timeStr;
            }
            
            // SHOW TIME UP MODAL
            showTimeUpModal() {
                document.getElementById('timeUpModal').style.display = 'flex';
            }
            
            // SEND MESSAGE
            async sendMessage(message) {
                if (this.freeTime <= 0 && !this.isPro) {
                    this.showTimeUpModal();
                    return null;
                }
                
                this.showTyping();
                
                try {
                    // Use Hugging Face API
                    const response = await this.callAPI(message);
                    this.hideTyping();
                    
                    // Deduct time for free users
                    if (!this.isPro) {
                        this.freeTime = Math.max(0, this.freeTime - 10); // 10 seconds per response
                    }
                    
                    return response;
                } catch (error) {
                    this.hideTyping();
                    return this.getFallbackResponse(message);
                }
            }
            
            // CALL HUGGING FACE API
            async callAPI(message) {
                try {
                    const response = await fetch(
                        "https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.2",
                        {
                            headers: {
                                "Authorization": `Bearer ${this.apiKey}`,
                                "Content-Type": "application/json"
                            },
                            method: "POST",
                            body: JSON.stringify({
                                inputs: `[INST] ${message} [/INST]\n\nZoZo AI:`,
                                parameters: {
                                    max_length: 500,
                                    temperature: 0.7,
                                    top_p: 0.95
                                }
                            })
                        }
                    );
                    
                    const data = await response.json();
                    return data[0]?.generated_text || this.getSmartResponse(message);
                    
                } catch (error) {
                    throw error;
                }
            }
            
            // SMART FALLBACK RESPONSE
            getSmartResponse(message) {
                const responses = {
                    code: `üíª **Code Generation:**
                    
Here's professional code for your query:

\`\`\`python
# Python code - ZOZO AI Generated
def solution():
    """Professional solution"""
    # Implementation here
    return "Success!"

# Ready to use!
\`\`\`

Need modifications? Ask away!`,
                    
                    business: `üíº **Business Strategy:**
                    
**Revenue Plan:**
1. Product Sales: ‚Çπ10,000-‚Çπ50,000 per unit
2. Subscription: ‚Çπ999-‚Çπ9,999 per month
3. Services: ‚Çπ50,000+ per project

**Action Steps:**
‚Ä¢ Week 1: MVP development
‚Ä¢ Week 2: First customers
‚Ä¢ Month 1: ‚Çπ5,00,000 revenue
‚Ä¢ Month 3: ‚Çπ50,00,000 scale`,
                    
                    general: `ü§ñ **ZOZO AI Response:**
                    
I understand: "${message}"

**Recommended Approach:**
1. Start with minimum viable product
2. Test with target audience
3. Iterate based on feedback
4. Scale with automation

**Success Probability:** 85% with proper execution

Need specific details? Just ask!`
                };
                
                const lowerMsg = message.toLowerCase();
                if (lowerMsg.includes('code') || lowerMsg.includes('python') || lowerMsg.includes('javascript')) {
                    return responses.code;
                } else if (lowerMsg.includes('business') || lowerMsg.includes('money') || lowerMsg.includes('earn')) {
                    return responses.business;
                } else {
                    return responses.general;
                }
            }
            
            getFallbackResponse(message) {
                return `ü§ñ **ZOZO AI:** I received your message: "${message}". Let me help you with that!`;
            }
            
            // TYPING INDICATOR
            showTyping() {
                this.isTyping = true;
                const chat = document.getElementById('chatMessages');
                const typingDiv = document.createElement('div');
                typingDiv.id = 'typingIndicator';
                typingDiv.className = 'typing';
                typingDiv.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <span>ZOZO AI is typing...</span>
                `;
                chat.appendChild(typingDiv);
                chat.scrollTop = chat.scrollHeight;
            }
            
            hideTyping() {
                this.isTyping = false;
                const typing = document.getElementById('typingIndicator');
                if (typing) typing.remove();
            }
            
            // UPGRADE TO PRO
            upgradeToPro() {
                this.isPro = true;
                alert('üéâ Congratulations! You are now a PRO user!');
            }
        }

        // ========== INITIALIZE ==========
        const zozoAI = new ZozoAI();
        const chatMessages = document.getElementById('chatMessages');
        const userInput = document.getElementById('userInput');

        // START TIMER
        zozoAI.startTimer();

        // ========== CHAT FUNCTIONS ==========
        async function sendMessage() {
            const message = userInput.value.trim();
            if (!message || zozoAI.isTyping) return;
            
            // Add user message
            addMessage(message, 'user');
            userInput.value = '';
            
            // Get AI response
            const response = await zozoAI.sendMessage(message);
            if (response) {
                addMessage(response, 'ai');
            }
        }
        
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <div class="avatar">Y</div>
                        <strong>üë§ You</strong>
                    </div>
                    <p>${text}</p>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <div class="avatar">Z</div>
                        <strong>ü§ñ ZOZO AI</strong>
                    </div>
                    <p>${text.replace(/\n/g, '<br>')}</p>
                `;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function handleKeyDown(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        }
        
        // ========== MODAL FUNCTIONS ==========
        function goToPayment() {
            window.location.href = 'payment.html';
        }
        
        function closeModal() {
            document.getElementById('timeUpModal').style.display = 'none';
        }
        
        // ========== AUTO SCROLL ==========
        setInterval(() => {
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 100);
    </script>
</body>
</html>
